<!DOCTYPE html>
<html class="scroll-smooth" lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>PetHome - H·ªì s∆° c√° nh√¢n</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Spline+Sans:wght@300;400;500;600;700&family=Noto+Sans:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
      // Gi·ªØ nguy√™n tailwind.config c·ªßa b·∫°n...
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#FF9EAA",
              "primary-hover": "#F472B6",
              secondary: "#FCD34D",
              "secondary-hover": "#F59E0B",
              "background-light": "#FFFFFF",
              "background-dark": "#FFF0F5",
            },
            fontFamily: {
              display: ["Spline Sans", "sans-serif"],
              body: ["Noto Sans", "sans-serif"],
            },
          },
        },
      };
    </script>
    <style>
      .active-tab {
        background: linear-gradient(
          to right,
          rgba(255, 158, 170, 0.1),
          rgba(252, 211, 77, 0.1)
        );
        color: #f472b6;
        font-weight: bold;
        border: 1px solid rgba(255, 158, 170, 0.2);
      }
      #follower-dog {
        position: fixed;
        width: 64px;
        height: 64px;
        pointer-events: none;
        z-index: 9990;
        background-size: contain;
        background-repeat: no-repeat;
      }
    </style>
  </head>
  <body
    class="bg-background-light text-gray-800 font-display overflow-x-hidden antialiased"
  >
    <div id="header"></div>
    <div id="header-placeholder"></div>

    <main class="flex-1 pt-28 pb-12 bg-background-dark min-h-screen">
      <div class="max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8">
        <div class="mb-10">
          <h1 class="text-3xl md:text-4xl font-bold text-gray-900">
            Ch√†o m·ª´ng, <span id="user-display-name">Kh√°ch</span>! üêæ
          </h1>
          <p class="text-gray-500 mt-2 text-lg">
            Qu·∫£n l√Ω h√†nh tr√¨nh y√™u th∆∞∆°ng c·ªßa b·∫°n.
          </p>
        </div>

        <div class="flex flex-col lg:flex-row gap-8">
          <aside class="w-full lg:w-1/4">
            <div
              class="bg-white rounded-3xl p-6 shadow-xl shadow-pink-100 border border-pink-50 text-center relative overflow-hidden group"
            >
              <div
                class="absolute top-0 left-0 w-full h-28 bg-gradient-to-r from-primary to-secondary opacity-20"
              ></div>
              <div class="relative z-10 mt-12">
                <div
                  class="w-28 h-28 mx-auto rounded-full p-1 bg-gradient-to-r from-primary to-secondary mb-4 shadow-lg"
                >
                  <div
                    class="w-full h-full rounded-full border-4 border-white overflow-hidden bg-white"
                  >
                    <img
                      id="user-avatar"
                      alt="Avatar"
                      class="w-full h-full object-cover"
                      src="https://api.dicebear.com/7.x/adventurer/svg?seed=Linh"
                    />
                  </div>
                </div>
                <h2 id="user-full-name" class="text-xl font-bold text-gray-900">
                  N/A
                </h2>
                <p
                  id="user-role"
                  class="text-secondary-hover font-bold text-xs uppercase mt-1"
                >
                  Th√†nh vi√™n PetHome
                </p>
              </div>

              <nav class="mt-8 space-y-2 text-left">
                <button
                  onclick="showTab('info')"
                  id="btn-info"
                  class="tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-gray-50 transition-all"
                >
                  <span class="material-symbols-outlined">person</span> Th√¥ng
                  tin chung
                </button>
                <button
                  onclick="showTab('adopt')"
                  id="btn-adopt"
                  class="tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-gray-50 transition-all"
                >
                  <span class="material-symbols-outlined">pets</span> L·ªãch s·ª≠
                  nh·∫≠n nu√¥i
                </button>
                <button
                  onclick="showTab('donate')"
                  id="btn-donate"
                  class="tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-gray-50 transition-all"
                >
                  <span class="material-symbols-outlined"
                    >volunteer_activism</span
                  >
                  Quy√™n g√≥p
                </button>
                <button
                  onclick="showTab('orders')"
                  id="btn-orders"
                  class="tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-gray-50 transition-all"
                >
                  <span class="material-symbols-outlined">shopping_bag</span>
                  L·ªãch s·ª≠ ƒë·∫∑t h√†ng
                </button>
                <button
                  onclick="logout()"
                  class="w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-400 hover:bg-red-50 transition-all mt-4 border-t border-gray-50"
                >
                  <span class="material-symbols-outlined">logout</span> ƒêƒÉng
                  xu·∫•t
                </button>
              </nav>
            </div>
          </aside>

          <div class="w-full lg:w-3/4">
            <div id="tab-info" class="tab-content space-y-8 animate-fade-in-up">
              <section
                class="bg-white rounded-3xl p-8 shadow-lg border border-pink-50 relative overflow-hidden"
              >
                <h3
                  class="text-xl font-bold text-gray-900 mb-8 flex items-center gap-2"
                >
                  <span class="material-symbols-outlined text-primary"
                    >id_card</span
                  >
                  Th√¥ng tin li√™n h·ªá
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                  <div>
                    <label
                      class="block text-xs font-bold text-gray-400 uppercase mb-1"
                      >H·ªç v√† t√™n</label
                    >
                    <div
                      id="display-ho-ten"
                      class="text-gray-900 font-medium text-lg border-b pb-2"
                    >
                      ...
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-xs font-bold text-gray-400 uppercase mb-1"
                      >Email</label
                    >
                    <div
                      id="display-email"
                      class="text-gray-900 font-medium text-lg border-b pb-2"
                    >
                      ...
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-xs font-bold text-gray-400 uppercase mb-1"
                      >S·ªë ƒëi·ªán tho·∫°i</label
                    >
                    <div
                      id="display-phone"
                      class="text-gray-900 font-medium text-lg border-b pb-2"
                    >
                      ...
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-xs font-bold text-gray-400 uppercase mb-1"
                      >ƒê·ªãa ch·ªâ</label
                    >
                    <div
                      class="text-gray-900 font-medium text-lg border-b pb-2 text-gray-400 italic text-sm"
                    >
                      Ch∆∞a c·∫≠p nh·∫≠t
                    </div>
                  </div>
                </div>
              </section>
            </div>

            <div id="tab-adopt" class="tab-content hidden space-y-6">
              <div class="bg-white rounded-3xl p-8 shadow-lg text-center">
                <span class="material-symbols-outlined text-6xl text-pink-100"
                  >pets</span
                >
                <p class="mt-4 text-gray-500">
                  B·∫°n ch∆∞a nh·∫≠n nu√¥i b√© n√†o. H√£y gh√© thƒÉm c√°c b√© nh√©!
                </p>
                <a
                  href="index.html#pet-section"
                  class="mt-4 inline-block px-6 py-2 bg-primary text-white rounded-full font-bold"
                  >T√¨m b·∫°n b·ªën ch√¢n</a
                >
              </div>
            </div>

            <div id="tab-donate" class="tab-content hidden space-y-6">
              <div class="bg-white rounded-3xl p-8 shadow-lg">
                <h3 class="font-bold text-xl mb-4">L·ªãch s·ª≠ quy√™n g√≥p</h3>
                <p class="text-gray-400 italic">
                  D·ªØ li·ªáu quy√™n g√≥p c·ªßa b·∫°n s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...
                </p>
              </div>
            </div>

            <div id="tab-orders" class="tab-content hidden space-y-6">
              <div class="bg-white rounded-3xl p-8 shadow-lg">
                <h3 class="font-bold text-xl mb-4">ƒê∆°n h√†ng c·ªßa t√¥i</h3>
                <p class="text-gray-400 italic">
                  B·∫°n ch∆∞a c√≥ ƒë∆°n ƒë·∫∑t h√†ng n√†o.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <div id="follower-dog"></div>

    <script>
      // --- 1. X·ª≠ l√Ω d·ªØ li·ªáu ng∆∞·ªùi d√πng ---
      function loadUserData() {
        const currentUser = JSON.parse(localStorage.getItem("currentUser"));

        if (!currentUser) {
          // N·∫øu ch∆∞a ƒëƒÉng nh·∫≠p, chuy·ªÉn v·ªÅ trang ch·ªß ho·∫∑c login
          window.location.href = "index.html";
          return;
        }

        // ƒê·ªï d·ªØ li·ªáu v√†o giao di·ªán
        const fullName = `${currentUser.ho} ${currentUser.ten}`;
        document.getElementById("user-display-name").innerText =
          currentUser.ten;
        document.getElementById("user-full-name").innerText = fullName;
        document.getElementById("display-ho-ten").innerText = fullName;
        document.getElementById("display-email").innerText = currentUser.email;
        document.getElementById("display-phone").innerText =
          currentUser.phone || "Ch∆∞a c·∫≠p nh·∫≠t";

        // Thay ƒë·ªïi ·∫£nh ƒë·∫°i di·ªán d·ª±a tr√™n t√™n cho sinh ƒë·ªông
        document.getElementById(
          "user-avatar"
        ).src = `https://api.dicebear.com/7.x/adventurer/svg?seed=${currentUser.ten}`;
      }

      // --- 2. X·ª≠ l√Ω chuy·ªÉn Tab ---
      function showTab(tabId) {
        // ·∫®n t·∫•t c·∫£ n·ªôi dung tab
        document
          .querySelectorAll(".tab-content")
          .forEach((el) => el.classList.add("hidden"));
        // Hi·ªán tab ƒë∆∞·ª£c ch·ªçn
        document.getElementById("tab-" + tabId).classList.remove("hidden");

        // C·∫≠p nh·∫≠t Style cho Menu Button
        document
          .querySelectorAll(".tab-btn")
          .forEach((btn) => btn.classList.remove("active-tab"));
        document.getElementById("btn-" + tabId).classList.add("active-tab");
      }

      // --- 3. ƒêƒÉng xu·∫•t ---
      function logout() {
        if (confirm("B·∫°n c√≥ mu·ªën ƒëƒÉng xu·∫•t kh·ªèi PetHome?")) {
          localStorage.removeItem("currentUser");
          window.location.href = "index.html";
        }
      }

      // --- Kh·ªüi t·∫°o ---
      document.addEventListener("DOMContentLoaded", () => {
        loadUserData();
        showTab("info"); // M·∫∑c ƒë·ªãnh hi·ªán Tab th√¥ng tin
      });
    </script>
    <div id="footer"></div>
  </body>
</html>
<script>
  // load header
  fetch("assets/Component/header1.html")
    .then((res) => res.text())
    .then((data) => (document.getElementById("header").innerHTML = data));

  // load footer
  fetch("assets/Component/footer.html")
    .then((res) => res.text())
    .then((data) => (document.getElementById("footer").innerHTML = data));
</script>
